<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <title>you,cell</title>
	<link rel="stylesheet" href="jquery.ui/jquery-ui-1.8.23.custom.css"></link>
	<link rel="stylesheet" href="style.css"></link>
	<script src="jquery.js"></script>
	<script src="jquery.ui/jquery-ui-1.8.23.custom.min.js"></script>
	<script src="jquery.json.js"></script>
	<script src="cocos2d.js"></script>
</head>
<body>

	
	
	<div style="position:absolute;">
		<canvas id="debugCanvas" style="display:none" width="2000" height="1000"></canvas>
	</div>
	<div id="stage" style="position:absolute;">
		<canvas id="gameCanvas" width="800" height="450"></canvas>
	</div>
	
	<!-- 蛋白质合成工厂 -->
	<div id="dialog-protein-composite" style="display:none">
		<h2>蛋白质工厂</h2>

		<div>
			原料
			<span style="color:red" class="aminoacid-num-red"></span>
			<span style="color:yellow" class="aminoacid-num-yellow"></span>
			<span style="color:blue" class="aminoacid-num-blue"></span>
		</div>
		
		<hr />
		
		<div>
			<div id="protein-formulas-outer"></div>
			<div id="protein-composition-formula-template" class="protein-formula" style="display:none;">
				
				<button onclick="ins(yc.inner.ProteinFormulas).toggle( $(this).parent().data('formula').name )" class='protein-formula-togglebtn' style="float:left">暂停</button>
				<span class='formula-display' style="float:left;width:200px"></span>
				<span class="formula-msg" style="display:none"></span>
				<div class="protein-composite-progress" style="width:150px;height:10px; float:left"></div>
				<div style="clear:both"></div>
			</div>
		</div>
		
		<div>
			<button onclick="$('#dialog-protein-composite').hide()" style="float:right">关闭</button>
		</div>
		
	</div>
	
	<!-- 仪表盘 -->
	<div style="float:left;position: absolute; display:none">

		<div>
			Debug:
			<button onclick="ins(yc.inner.monster.VirusLayer).createVirusSprite().run( ins(yc.inner.Cell).aAxes.hexgon(6,9) ) ;" title="创建一个进入细胞内的病毒">病毒</button>
			<button onclick="yc.inner.monster.VirusCluster.create( ins(yc.inner.Cell).aAxes.hexgon(6,9) ) ;" title="创建一个进入细胞内的病毒群">病毒群</button>
		</div>
		
		<div id="aminoacid-dashboard" style='display:none'>
			<div style="color:red; margin-top:10px" class="aminoacid-num aminoacid-num-red"></div>
			<div style="color:yellow; margin-top:10px" class="aminoacid-num aminoacid-num-yellow"></div>
			<div style="color:blue; margin-top:10px" class="aminoacid-num aminoacid-num-blue"></div>
		</div>
		
		<hr style="margin-left:0px;width:20px" />
		
		<div id="protein-pool-dashboard"></div>
	
		<button onclick="yc.ui.UI.ins.toggleProteinComposion()">@</button>
		
		<hr />
		<div><span id="dashboard-hp" style="color:green"></span></div>
			
	</div>
	
	
	
	<div id="debug-output" style="float:right;position: absolute;width:400px">
		<div id="player-status"></div>
	</div>
	
	<div id='menu-inner-layer-zoom' style="float:right;position: absolute;">
		<button onclick="worldediter()">世界编辑器</button>
		| <button title="回到主菜单" onclick=" if(!confirm('确定要放弃当前游戏，退回到主菜单吗？')) return ; cc.Director.getInstance().replaceScene( new yc.levels.LevelSelector )">主菜单</button>
	</div>
	
		
	
	
	<!-- 建造菜单 -->
	<div id="bulding-create-menu" class="bulding-menu" style="display:none;position:absolute ;">
	
		<div>
			<h3>建设</h3>
			<button class='btn-close'>关闭</button>
		</div>
		
		<div id='bulding-create-items' class='bulding-items'></div>
		
	</div>
	<div class="bulding-create" id="bulding-create-template" style='display:none'>
		<b class='title'></b>
		<div class='description'></div>
		<div class='cost'></div>
		<span class='message' style='color:red'></span>
		<button class='create'>购买</button>
	</div>
	
	<!-- 升级菜单 -->
	<div id="bulding-upgrade-menu" class="bulding-menu" style="display:none;position:absolute ;">
	
		<div>
			<h3>升级</h3>
			<button class='btn-close'>关闭</button>
		</div>
		
		<div id="bulding-upgraders-outer" class='bulding-items'></div>
		
		<hr />
		<div>
			<button id='btn-demolish'>拆除</button>
			可回收：<span id='cost-recovering'></span>
		</div>
	</div>
	
	<div class="bulding-upgrader" id="bulding-upgrader-template" style='display:none'>
		<b class='title'></b>
		<span class='newLv'>Lv </span>
		<div class='description'></div>
		<div class='detail'></div>
		<div class='cost'></div>
		<button class='upgrade'>Upgrade</button>
	</div>
	
	<!-- 击杀boss奖励菜单 -->
	<div id="dialog-killboss-reward" style="display:none">
		
		<h3>奖励</h3>
		
		<div>
			你成功击杀了Boss病毒，请选择一个基因作为奖励，然后进入下一个关卡。
		</div>
		
		<div id="reward-genes-outer"></div>
		
		<div id="reward-gene-template" style="display:none" class="reward-gene">
			<h4 class="title"></h4>
			<div class="description"></div>
			<button class='btn-select'>选择</button>
		</div>
	</div>
	
	<div id="main-menu" style="width:300px;height:450px;margin:200px auto">
		<button onclick="startGame()">开始</button>
	</div>
	
	
	<!-- 关卡编辑器 -->
	<div id='dlg-world-editer' style='display:none;font-size:12px'>
	
		<div id='worldediter-message'></div>
		
		<div id='tabs-world-editer'>
			<ul>
				<li><a href="#panel-world">世界</a></li>
				<li><a href="#panel-stains">地形</a></li>
				<li><a href="#">贴图</a></li>
				<li><a href="#">场景道具</a></li>
				<li><a href="#panel-roles">角色</a></li>
				<li><a href="#panel-cell">细胞</a></li>
				<li><a href="#panel-balance">平衡</a></li>
			</ul>
			
			
			<div id='panel-world'>
				<div>
					世界范围：
					Top:<input id='ipt-world-top' style='width:50px' value='null' />
					Lft:<input id='ipt-world-lft' style='width:50px' value='null' />
					Btm:<input id='ipt-world-btm' style='width:50px' value='null' />
					Rgt:<input id='ipt-world-rgt' style='width:50px' value='null' />
				</div>
				
				<div>
					
					<button onclick="yc.settings.outer.box2d.dbg=!yc.settings.outer.box2d.dbg; $('#debugCanvas').toggle()">Debug Draw</button>
					
					<label><input type="checkbox" onchange="yc.settings.player.nohurt=$(this).attr('checked')?true:false" checked />无敌</label>
					<label><input type="checkbox" onchange="yc.settings.player.stealth=$(this).attr('checked')?true:false" checked />隐身</label>
					| <button onclick="ins(yc.outer.Cell).spurt(100)">冲刺</button>
					x:<input value="" id='ipt-pos-x' style='width:40px' />
					y:<input value="" id='ipt-pos-y' style='width:40px' />
					<button onclick="ins(yc.outer.Cell).jump(parseInt($('#ipt-pos-x').val()),parseInt($('#ipt-pos-y').val()))">跃迁</button>
				</div>

				<div>
					<button onclick="cc.Director.getInstance()._runningScene.initWithScript(yc.GameScene.prototype.scriptDemo)">test</button>
				</div>
			</div>
		
			<div id='panel-stains'>
				<button onclick="ins(yc.ui.editer.WorldEditer).refreshStains()">刷新</button>
				<button onclick="ins(yc.ui.editer.WorldEditer).createStain()">+ 污渍</button>
				<button onclick="ins(yc.ui.editer.WorldEditer).removeStain()">- 污渍</button>
				| <label><input type="checkbox" onchange="yc.settings.outer.stain.dbg=$(this).attr('checked')?true:false" checked />debug info</label>
				<div>
					<div style="float:left;">
						污渍：<br />
						<select multiple=true size="19" id="lst-stains" style="width:150px"></select>
					</div>
					<div style="float:left; margin-left:20px">
						x:<input id='ipt-stain-x' style='width:70px' value='' />
						y:<input id='ipt-stain-y' style='width:70px' value='' /><br />
						旋转： <input id='ipt-stain-rotation' style='width:50px' value='' />
						密度： <input id='ipt-stain-density' style='width:50px' value='' />

						<hr />

						形状：
						<button onclick="ins(yc.ui.editer.WorldEditer).createStainShape()">+ 形状</button>
						<button onclick="ins(yc.ui.editer.WorldEditer).removeStainShape()">- 形状</button><br />
						<select multiple=true size="3" id="lst-stain-shapes" style="width:150px"></select><br />

						多边形顶点：
						<button onclick="ins(yc.ui.editer.WorldEditer).createStainPoint()">+ 点</button>
						<button onclick="ins(yc.ui.editer.WorldEditer).removeStainPoint()">- 点</button>
						<br />
						<select multiple=true size="6" id="lst-stain-points" style="width:150px"></select><br />

						顶点坐标：<br />
						x:<input id='ipt-stain-point-x' style='width:50px' value='' />
						y:<input id='ipt-stain-point-y' style='width:50px' value='' /><br />
					</div>
					<div style="clear:both"></div>
				</div>
			</div>
			
			
			<div id='panel-roles'>
				<button onclick="ins(yc.ui.editer.WorldEditer).refreshRoles()">刷新</button>
				<button>删除</button>
				<button>新建</button>
				| <button onclick="yc.settings.outer.virus.dbg.showId=!yc.settings.outer.virus.dbg.showId">dbg</button>
				<div>
					<select multiple=true size="20" id="lst-roles"  style="float:left;width:120px"></select>
					<div style="float:left">
						类型:<select>
							<option></option>
						</select><br/>
						<ul style="width:275px;height:260px;overflow:scroll;" id='ul-role-properties'></ul>
					</div>
					<div style="clear:both"></div>
				</div>
			</div>
			
			
			<div id="panel-balance">
				<button onclick="ins(yc.ui.editer.WorldEditer).refreshSettings()">刷新</button>
				<ul id='ul-settings'></ul>
			</div>
			
		</div>
	</div>
	
	
	<!-- 场景：关卡选择 -->
	<div id="ui-levels-selector" style="position:absolute;display:none">
		<div id="ui-levels-selector-title">
			<h1>I, Cell</h1>
			<p>You are a cell under someone's microscope ……</p>
		</div>
		<div id="ui-levels-selector-login">

		</div>
		<div id="ui-levels-selector-menu">
			<ul>
				<li>
					<button title="正在苦逼中……" disabled>故事模式</button>
				</li>
				<br />
				<li>
					<button onclick="cc.Director.getInstance().replaceScene( new yc.levels.FreeWorld ); $('#ui-levels-selector').toggle();">
						随机关卡
					</button>
				</li>
				<li>
					<button onclick="cc.Director.getInstance().replaceScene( new yc.GameScene ); $('#ui-levels-selector').toggle();">
						建造模式（空白关卡）
					</button>
				</li>
			</ul>
		</div>
	</div>
</body>
</html>